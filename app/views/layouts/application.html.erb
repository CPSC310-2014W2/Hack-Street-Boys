<!DOCTYPE html>
<html>
<head>
  <title>Weathr</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= stylesheet_link_tag "//cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.3.1/fullcalendar.min.css" %>

  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>

  <!-- JQuery Libs -->
  <%= javascript_include_tag "//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" %>
  <%= javascript_include_tag "//ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js" %>

  <!-- Google Map Libs -->
  <%= javascript_include_tag "//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" %>
  <%= javascript_include_tag "//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js" %>
  <%= javascript_include_tag "//google-maps-utility-library-v3.googlecode.com/svn/trunk/richmarker/src/richmarker-compiled.js" %>

  <!-- Calender Libs -->
  <%= javascript_include_tag "//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js" %>
  <%= javascript_include_tag "//cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.3.1/fullcalendar.min.js" %>
  <%= csrf_meta_tags %>

  <meta property="og:title" content="Here is my scheduled event on Weathr: "/>
  <meta property="og:site_name" content="Weather Application"/>
  <meta property="og:url" content="http://salty-badlands-4905.herokuapp.com"/>

</head>
<body>

  <script>
      window.fbAsyncInit = function() {
        FB.init({
          appId      : '1580886888863240',
          xfbml      : true,
          version    : 'v2.3'
        });

        FB.ui({
          method: 'share',
          href: 'http://salty-badlands-4905.herokuapp.com',
          caption: 'An example caption',
        },
        function(response) {
          if (response && !response.error_code) {
            alert('Posting completed.');
            } else {
              alert('Error while posting.');
            }
          }
          );
      };

      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/sdk.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));
    </script>

<div align="right">
	<div align="right">
      <% if current_user %>
        <%= link_to "Setting", setting_index_path, id: "user_setting", :class => "setting_button" %>
        <div style="width: 25%; display: inline"></div>
        Signed in as <strong><%= current_user.name %></strong>
        <%= link_to "Sign out", signout_path, id: "sign_out", :class => "signout_button" %>
      <% else %>
        <%= link_to "Sign in with Google", "/auth/google_oauth2", id: "sign_in", :class => "signin_button" %>
      <% end %>
	</div>
</div>

<div align="right">
  <div align="right">
  <% if current_facebook_user %>
    Signed in as <strong><%= current_facebook_user.name %></strong>!
    <%= link_to "Sign out", facebook_signout_path, id: "facebook_sign_out" %>
  <% else %>
    <%= link_to "Sign in with Facebook", "/auth/facebook", id: "facebook_sign_in" %>
  <% end %>
</div>
</div>


<h1 align="center">Weather Application</h1>

<div align="center" >
	<%= button_to "Home", root_path, :method => :get, :class => "coloring" %>
	<%= button_to "Calender", events_index_path, :method => :get, :class => "coloring" %>
	<%= button_to "Favorite Cities", fav_cities_path, :method => :get, :class => "coloring" %>
	<%= button_to "Weather Search", weather_search_path, :method => :get, :class => "coloring" %>
	<%= button_to "Trip Planner", root_path, :method => :get, :class => "coloring" %>
</div>

<%= yield %>

</body>
</html>
